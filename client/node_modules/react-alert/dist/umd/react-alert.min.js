!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types"),require("react-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-transition-group","react-dom"],e):e((t=t||self).ReactAlert={},t.React,t.PropTypes,t.ReactTransitionGroup,t.ReactDOM)}(this,function(t,h,e,T,b){"use strict";var g="default"in h?h.default:h;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(){return(R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function S(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e;var n,r,i=h.createContext(),c={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},j={INFO:"info",SUCCESS:"success",ERROR:"error"},a={FADE:"fade",SCALE:"scale"},_=function(t){var e=t.children,n=t.options,r=n.position,o=n.containerStyle,i=S(t,["children","options"]),a=h.useMemo(function(){return function(t){var e={position:"fixed"};switch(t){case c.TOP_LEFT:return P({top:0,left:0},e);case c.TOP_CENTER:return P({top:0,left:"50%",transform:"translate(-50%, 0%)"},e);case c.TOP_RIGHT:return P({top:0,right:0},e);case c.MIDDLE_LEFT:return P({bottom:"50%",left:0},e);case c.MIDDLE:return P({bottom:"50%",left:"50%",transform:"translate(-50%, 0%)"},e);case c.MIDDLE_RIGHT:return P({bottom:"50%",right:0},e);case c.BOTTOM_LEFT:return P({bottom:0,left:0},e);case c.BOTTOM_CENTER:return P({bottom:0,left:"50%",transform:"translate(-50%, 0%)"},e);case c.BOTTOM_RIGHT:return P({right:0,bottom:0},e)}}(r)},[r]);return g.createElement("div",R({style:P({},a,o)},i),e)},u=(o(n={},a.FADE,{transition:"opacity ".concat(250,"ms ease"),opacity:0}),o(n,a.SCALE,{transform:"scale(1)",transition:"all ".concat(250,"ms ease-in-out")}),n),l=(o(r={},a.FADE,{entering:{opacity:0},entered:{opacity:1}}),o(r,a.SCALE,{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}),r),x=function(t){var e=t.children,n=t.type,r=S(t,["children","type"]);return g.createElement(T.Transition,R({},r,{timeout:250}),function(t){return g.createElement("div",{style:P({},u[n],l[n][t])},e)})},s=function(t){var e=t.children,n=t.offset,r=t.position,o=t.timeout,i=t.type,a=t.transition,c=t.containerStyle,u=t.template,l=t.context,s=S(t,["children","offset","position","timeout","type","transition","containerStyle","template","context"]),f=h.useRef(null),p=h.useRef([]),m=C(h.useState([]),2),d=m[0],y=m[1];h.useEffect(function(){return f.current=document.createElement("div"),document.body.appendChild(f.current),function(){p.current.forEach(clearTimeout),f.current&&document.body.removeChild(f.current)}},[]);var O=function(r){y(function(t){var e=t.length,n=t.filter(function(t){return t.id!==r.id});return e>n.length&&r.options.onClose&&r.options.onClose(),n})},v=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={id:Math.random().toString(36).substr(2,9),message:t,options:P({timeout:o,type:i},e),close:function(){return O(n)}};if(n.options.timeout){var r=setTimeout(function(){O(n),p.current.splice(p.current.indexOf(r),1)},n.options.timeout);p.current.push(r)}return y(function(t){return t.concat(n)}),n.options.onOpen&&n.options.onOpen(),n},E={root:f.current,alerts:d,show:v,remove:O,success:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.type=j.SUCCESS,v(t,e)},error:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.type=j.ERROR,v(t,e)},info:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.type=j.INFO,v(t,e)}};return g.createElement(l.Provider,{value:E},e,f.current&&b.createPortal(g.createElement(_,R({options:{position:r,containerStyle:c}},s),g.createElement(T.TransitionGroup,null,d.map(function(t){return g.createElement(x,{type:a,key:t.id,appear:!0},g.createElement(u,R({style:{margin:n}},t)))}))),f.current))};s.propTypes={offset:e.string,position:e.oneOf(Object.values(c)),timeout:e.number,type:e.oneOf(Object.values(j)),transition:e.oneOf(Object.values(a)),containerStyle:e.object,template:e.oneOfType([e.element,e.func]).isRequired,context:e.shape({Provider:e.object,Consumer:e.object})},s.defaultProps={offset:"10px",position:c.TOP_CENTER,timeout:0,type:j.INFO,transition:a.FADE,containerStyle:{zIndex:100},context:i};t.Provider=s,t.useAlert=function(t){return h.useContext(t||i)},t.withAlert=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i;return function(r){var t=function(e,n){return g.createElement(o.Consumer,null,function(t){return g.createElement(r,R({ref:n},e,{alert:t}))})};return t.displayName="WithAlert(".concat(r.displayName||r.name||"Component",")"),g.forwardRef(t)}},t.positions=c,t.types=j,t.transitions=a,Object.defineProperty(t,"__esModule",{value:!0})});
